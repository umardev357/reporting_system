{% extends "base_generic.html" %}

{% block content %}
<div class="container">
    <div class="list-group">
        <h1 class="h3 mt-4 mb-4 list-group-item list-group-item-primary">Edit Job Entry</h1>
    </div>

    <form method="post">
        {% csrf_token %}

        <div class="mb-3 row">
            <label for="{{ form.title.id_for_label }}" class="col-sm-2 col-form-label">Job Title:</label>
            <div class="col-sm-10">
              <textarea name="{{ form.title.name }}" cols="40" rows="1" maxlength="500" required="" id="{{ form.title.id_for_label }}">{{ form.title.value }}</textarea>
            </div>
          </div>

          <style>
            /* Custom CSS to set the width of the datepicker input */
            div.mb-3.row .datepicker {
                max-width: 200px;
                width: 100%;
            }
        
            /* Media query for smaller screens */
            @media (max-width: 768px) {
                div.mb-3.row .datepicker {
                    max-width: 100%; /* Full width on smaller screens */
                }
                
            }

            .personnel-columns {
                  column-count: 3; /* Adjust the number of columns as needed */
                  column-gap: 20px; /* Adjust the gap between columns as needed */
            }
        </style>
        
        
          <div class="mb-3 row ">
            <label for="{{ form.date.id_for_label }}" class="col-sm-2 col-form-label">Date:</label>
            <div class="col-sm-10 datepicker" >
                {{ form.date }}
            </div>
        </div>
    
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                var dateInputs = document.querySelectorAll('.datepicker');
                dateInputs.forEach(function (input) {
                    new Datepicker(input, {
                        format: 'yyyy-mm-dd',
                        autoclose: true,
                    });
                });
            });
        </script>

          <div class="mb-3 row">
            <label for="{{ form.region.id_for_label }}" class="col-sm-2 col-form-label">Region:</label>
            <div class="col-sm-10">
              {{ form.region }}
            </div>
          </div>

          <div class="mb-3 row">
            <label for="{{ form.substation.id_for_label }}" class="col-sm-2 col-form-label">Substation:</label>
            <div class="col-sm-10">
              {{ form.substation }}
            </div>
          </div>

          <div class="mb-3 row">
            <label for="{{ form.job_description.id_for_label }}" class="col-sm-2 col-form-label">Job Description:</label>
            <div class="col-sm-10">
              <textarea name="{{ form.job_description.name }}" cols="40" rows="5" maxlength="500" required="" id="{{ form.job_description.id_for_label }}">{{ form.job_description.value }}</textarea>
            </div>
          </div>

          <div class="mb-3 row">
            <label for="{{ form.equipment.id_for_label }}" class="col-sm-2 col-form-label">Equipment:</label>
            <div class="col-sm-10">
              {{ form.equipment }}
            </div>
          </div>

          <div class="mb-3 row">
            <label for="{{ form.job_category.id_for_label }}" class="col-sm-2 col-form-label">Job Category:</label>
            <div class="col-sm-10">
              {{ form.job_category }}
            </div>
          </div>

          <div class="mb-3 row">
            <label for="{{ form.job_status.id_for_label }}" class="col-sm-2 col-form-label">Job Status:</label>
            <div class="col-sm-10">
              {{ form.job_status }}
            </div>
          </div>

          <div class="mb-3 row">
            <label for="{{ form.personnel.id_for_label }}" class="col-sm-2 col-form-label">Personnel:</label>
            <div class="col-sm-10 personnel-columns">
              {{ form.personnel }}
            </div>
          </div>

          <div class="mb-3 row">
            <label for="{{ form.remarks.id_for_label }}" class="col-sm-2 col-form-label">Remarks:</label>
            <div class="col-sm-10">
              {{ form.remarks }}
            </div>
          </div>

          
        </div>
        
        
        <div class="d-flex gap-2" style="margin-top: 50px">
            <button class="btn btn-primary" type="submit">Confirm Changes</button>
            <a href="{% url 'job-detail' pk=object.pk %}" class="btn btn-danger">Cancel Changes</a>
          </div>
        </form>

        <div class="list-group">
          <h1 class="h1 mt-4 mb-4 list-group-item list-group-item-light"></h1>
        </div >

        
</div>
            
{% endblock %}
